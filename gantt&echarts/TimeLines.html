<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    <title>项目时间线</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" href="main.css">
</head>
<body>
<div class="main">
    <div class="gantt">
        <div id="viewCt"></div>
    </div>
    <div class="line">
        <div id="container" style="height: 100%"></div>
    </div>
    <div style="clear: both;"></div>
    <button id="btn">button</button>
</div>
</body>
</html>

<script src="scripts/boot.js" type="text/javascript"></script>
<script src="runGantt.js" type="text/javascript"></script>
<script src="echarts.js" type="text/javascript"></script>
<script type="text/javascript">

    /* 创建项目甘特图对象
     -----------------------------------------------------------------------------*/

    var project = new PlusProject();
    project.setStyle("width:100%;height:400px");
    project.setColumns([
        new PlusProject.IDColumn(),
        new PlusProject.StatusColumn(),
        new PlusProject.NameColumn(),
        new PlusProject.PredecessorLinkColumn(),
        new PlusProject.PercentCompleteColumn(),
        new PlusProject.DurationColumn(),
        new PlusProject.StartColumn(),
        new PlusProject.FinishColumn(),
        new PlusProject.WorkColumn(),
        new PlusProject.DepartmentColumn(),
        new PlusProject.PrincipalColumn(),
        new PlusProject.AssignmentsColumn()
    ]);
    project.render(document.getElementById("viewCt"));


    var params = mini.getParams();  //...?id=100        获取URL的项目id信息
    var projectUID = params.id;
    if (projectUID == null) {   //如果没有传递项目id，则加载JSON格式项目数据演示和操作
        LoadJSONProject("data/project.txt", project);
    } else {
        LoadProject(projectUID, project);
    }

    document.getElementsByClassName("main")[0].style.height = window.innerHeight - 5 + "px";

    runGantt();
</script>